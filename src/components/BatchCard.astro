---
import type { CollectionEntry } from "astro:content";

interface Props {
  id: number;
  pdf: string;
  posts: CollectionEntry<"blog">[];
  hash: string;
}

const { id, pdf, posts, hash } = Astro.props as Props;

const color1 = `#${hash.slice(0, 6)}`;
const color2 = `#${(parseInt(hash.slice(0, 6), 16) ^ 0xffffff)
  .toString(16)
  .padStart(6, "0")}`;
---
<a href={pdf} class="group block overflow-hidden rounded-lg border border-black/15 dark:border-white/20 hover:bg-black/5 dark:hover:bg-white/5 transition-colors duration-300 ease-in-out">
  <div class="w-full h-48" style={`background: linear-gradient(135deg, ${color1}, ${color2});`}></div>
  <div class="p-4 space-y-2">
    <div class="font-semibold">Batch #{id}</div>
    <ul class="text-sm list-disc list-inside space-y-0.5">
      {posts.map((p) => (
        <li>{p.data.title}</li>
      ))}
    </ul>
  </div>
</a>
