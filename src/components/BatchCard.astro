---
import type { CollectionEntry } from "astro:content";

interface Props {
  id: number;
  pdf: string;
  posts: CollectionEntry<"blog">[];
  hash: string;
}

const { id, pdf, posts, hash } = Astro.props as Props;

const color1 = `#${hash.slice(0, 3)}`;
const color2 = `#${hash.slice(3, 6)}`;
---
<a
  href={pdf}
  target="_blank"
  class="group relative block overflow-hidden rounded-lg border border-black/15 dark:border-white/20 hover:bg-black/5 dark:hover:bg-white/5 transition-colors duration-300 ease-in-out">
  <div class="relative w-full h-48" style={`background: linear-gradient(135deg, ${color1}, ${color2});`}>
    <div class="absolute inset-0 grid place-items-center font-mono text-2xl text-black dark:text-white">
      Batch #{id}
    </div>
  </div>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 24 24"
    class="absolute top-2 right-2 size-5 stroke-2 fill-none stroke-current opacity-80">
    <path d="M14 5h5m0 0v5m0-5L10 19" />
  </svg>
  <div class="p-4 space-y-2">
    <ul class="text-sm list-disc list-inside space-y-0.5">
      {posts.map((p) => (
        <li>{p.data.title}</li>
      ))}
    </ul>
  </div>
</a>
